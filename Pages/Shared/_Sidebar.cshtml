
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    var path = HttpContextAccessor.HttpContext!.Request.Path.ToString().ToLower();
}
<style>
    .active-nav {
        background-color: rgba(255, 255, 255, 0.06);
        border-left: 3px solid #135bec;
    }
</style>

<aside class="w-64 border-r border-slate-200 dark:border-slate-800 flex flex-col justify-between dark:bg-background-dark sticky top-0 h-screen">
    <div class="flex flex-col gap-6 p-4">

        <div class="flex items-center gap-3 px-2">
            <div class="bg-primary rounded-lg p-2 text-white">
                <span class="material-symbols-outlined">rocket_launch</span>
            </div>
            <div class="flex flex-col">
                <h1 class="text-sm font-bold leading-tight">TaskManager</h1>
                <p class="text-slate-500 text-xs font-normal">Agile Workspace</p>
            </div>
        </div>

        <nav class="flex flex-col gap-1">

            <a asp-page="/Dashboard/Dashboard"
               class="flex items-center gap-3 px-3 py-2 rounded-lg 
                    @(path.Contains("/dashboard") 
                        ? "active-nav text-primary dark:text-white" 
                        : "text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800")">
                <span class="material-symbols-outlined">dashboard</span>
                <p class="text-sm font-medium">Dashboard</p>
            </a>

            <a asp-page="/AllProjects/AllProjects"
               class="flex items-center gap-3 px-3 py-2 rounded-lg 
                    @(path.Contains("/allprojects") 
                        ? "active-nav text-primary dark:text-white" 
                        : "text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800")">
                <span class="material-symbols-outlined">folder</span>
                <p class="text-sm font-medium">All Projects</p>
            </a>

            <a asp-page="/Board/Board"
               class="flex items-center gap-3 px-3 py-2 rounded-lg 
                    @(path.Contains("/board") 
                        ? "active-nav text-primary dark:text-white" 
                        : "text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800")">
                <span class="material-symbols-outlined">view_kanban</span>
                <p class="text-sm font-medium">Task Board</p>
            </a>

            <a asp-page="/Analytics/Analytics"
               class="flex items-center gap-3 px-3 py-2 rounded-lg 
                    @(path.Contains("/analytics") 
                        ? "active-nav text-primary dark:text-white" 
                        : "text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800")">
                <span class="material-symbols-outlined">monitoring</span>
                <p class="text-sm font-medium">Reports & Analytics</p>
            </a>

        </nav>
    </div>

    <div class="p-4 flex flex-col gap-4">

        <button id="btn-open-create-project" type="button" class="w-full py-2 bg-primary hover:bg-primary/90 text-white rounded-lg text-sm font-bold transition-colors">
            Create Project
        </button>

        <form method="post" asp-page="/Logout/Logout">
            <button type="submit"
                    class="flex items-center gap-3 px-3 py-2 text-slate-500 hover:text-slate-700 
                           dark:text-slate-400 dark:hover:text-white w-full text-left">
                <span class="material-symbols-outlined text-xl">logout</span>
                <p class="text-xs font-medium">Log out</p>
            </button>
        </form>

    </div>
</aside>
